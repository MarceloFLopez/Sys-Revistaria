<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Lista de usuários</title>
<link rel="stylesheet"
	th:href="@{/bootstrap-5.3.0-alpha1-dist/css/bootstrap.min.css}">
<script th:scr="@{/jquery-3.6.3-dist/jquery-3.6.3.min.js}"></script>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
<script th:scr="@{/bootstrap-5.3.0-alpha1-dist/js/bootstrap.min.js}"></script>


</head>
<body>
	<div th:insert="fragments/publica-nav :: nav"></div>
<<<<<<< HEAD
	<div class="container">
=======
	<div class="container mt-3 fs-5">
>>>>>>> d6f49372e6d172629f73a2265009c3dc788e26ce
		<div class="row">
			<div class="col mt-3">
				<h2>Lista de Usuários</h2>
				<a class="btn btn-primary fs-5  mt-3" th:href="@{/usuario/novo/}">Novo<i
					class="bi bi-plus-circle" style="margin-left: .75rem"> </i>
				</a>
				<table class="table table-striped fs-5 mt-4">
					<thead>
						<tr>
							<th>Nome</th>
							<th>CPF</th>
							<th>Nascimento</th>
							<th>E-mail</th>
							<th>Situação</th>
							<th>Permissões</th>
							<th>Permi</th>
							<th>Atual</th>
							<th>Delet</th>
						</tr>
					</thead>
					<tbody>
						<!-- Se lista = Vazia -> exibe mensagem -->
						<tr th:if="${usuarios.empty}">
							<td colspan="10" class="text-center">Sem usuários</td>
						</tr>

						<!-- Conteudo da lista -->
						<tr th:each="usuario : ${usuarios}">
							<td><span th:text="${usuario.nome}"> Nome </span></td>
							<td><span th:text="${usuario.cpf}"> Cpf </span></td>
							<td><span
								th:text="${#dates.format(usuario.dataNascimento, 'dd/MM/yyyy')}">Nascimento
							</span></td>
							<td><span th:text="${usuario.email}"> E-mail </span></td>

							<td><span class="fs-5"
								th:text="${usuario.ativo} ? 'ATIVO' : 'NÃO ATIVO'">
									Ativo? </span></td>


							<td style="font-size: 15px"><th:block
									th:each="pp : ${usuario.papeis}">
									<span  th:text="${pp.papel}">Permissão</span>
									<br />
								</th:block></td>
							<!-- Fim Conteudo da lista -->

							<!-- Buttons -->
							<td><a class="btn btn-warning"
								th:href="@{/usuario/editarPapel/{id}(id=${usuario.id})}"> <i
									class="bi bi-lock"></i>
							</a></td>

							<td><a class="btn btn-primary ml-2"
								th:href="@{/usuario/editar/{id}(id=${usuario.id})}"> <i	class="bi bi-pencil-square"></i>
							</a></td>

							<td><a class="btn btn-danger "
								th:href="@{/usuario/admin/apagar/{id}(id=${usuario.id})}"
								th:data-confirm-delete="|Você gostaria de apagar ${usuario.nome}?|"
								onclick="if (!confirm(this.getAttribute('data-confirm-delete'))) return false">
									<i class="bi bi-person-x-fill"></i>
							</a></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="text-end fs-6">
		<div class="container-fluid ">
			<footer class="footer mt-auto py-3 bg-light">
				<div class="container">
					<span class="text-muted">SYS-Springboot Por: Marcelo F.
						Lopez |Build: 2023 </span> <span class="text-muted">|<i class="bi bi-github"></i> <a
						href="https://github.com/MarceloFLopez">GitHub</a>
					</span>
				</div>
			</footer>
		</div>
	</div>
</body>
</html>
